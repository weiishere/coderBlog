<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>微信朋友圈</title>
    <script src="jquery-1.8.2.min.js"></script>
    <link href="style.css" rel="stylesheet" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
</head>
<body >
    <div style="border:solid 0px #000;height:auto;">
        <div class="container clearfix">
            <div class="header">
                <h1>用户姓名</h1>
                <img src="http://static.wojilu.com/upload/face/2013/3/13/1_15_44_42_m.jpg" />
            </div>
            <div class="content_body clearfix" id="content_body">
                <ul>
                    <li>
                        <section class="clearfix">
                            <img src="http://static.wojilu.com/upload/face/2013/3/13/1_15_44_42_m.jpg" />
                            <article>
                                <h2><a href="#">姓名姓名</a></h2>
                                <div>
                                    主要的功能RequireJS，就是实现c#代码的第一行和第二行的功能：1)引入需要使用的命名空间(顺便加个别名也行)；2)将自己的代码放到命名空间中，避免全局污染。
                                    因为 javascript 天生的缺点，语言本身没有集成命名空间的概念，所以变量名、函数名很容易发生冲突。这些年，大家想尽了各种办法，给 js 添加命名空间的概念，其中最成熟的套路，就是 RequireJS 这种。
                                    我们可以看到，在c#中只要两行代码的事情，在 js 中，得用多么复杂的类库，比如 RequireJS 去解决
                                </div>
                                <footer>
                                    2小时前
                                    <input type="button" role="common_go" value="评论" />
                                    <div role="common_wrap">
                                        <input type="button" role="like" value="赞" />
                                        <input type="button" role="common" value="评论" />
                                    </div>
                                </footer>
                                <nav class="commonWrap">
                                    <div class="likeWrap clearfix">
                                        <i></i><a href="#">用户名1</a><a href="#">用户名1</a><a href="#">用户名1</a>
                                    </div>
                                    <ul class="clearfix" role="commonListWrap">
                                        <li><h3><a href='#'>用户名:</a></h3><p>评论内容评论内容评评2</p></li>
                                        <li><h3><a href='#'>name:</a></h3><p>评论内容评论内容评论内容评论内容评论内容评3</p></li>
                                    </ul>
                                </nav>
                            </article>
                        </section>
                    </li>
                    <li>
                        <section class="clearfix">
                            <img src="http://static.wojilu.com/upload/face/2013/3/13/1_15_44_42_m.jpg" />
                            <article>
                                <h2><a href="#">姓名姓名</a></h2>
                                <div>
                                    主要的功能RequireJS，就是实现c#代码的第一行和第二行的功能：1)引入需要使用的命名空间(顺便加个别名也行)；2)将自己的代码放到命名空间中，避免全局污染。
                                    因为 javascript 天生的缺点，语言本身没有集成命名空间的概念，所以变量名、函数名很容易发生冲突。这些年，大家想尽了各种办法，给 js 添加命名空间的概念，其中最成熟的套路，就是 RequireJS 这种。
                                    我们可以看到，在c#中只要两行代码的事情，在 js 中，得用多么复杂的类库，比如 RequireJS 去解决
                                </div>
                                <footer>
                                    2小时前
                                    <input type="button" role="common_go" value="评论" />
                                    <div role="common_wrap">
                                        <input type="button" role="like" value="赞" />
                                        <input type="button" role="common" value="评论" />
                                    </div>
                                </footer>
                                <nav class="commonWrap">
                                    <div class="likeWrap clearfix">
                                        
                                    </div>
                                    <ul class="clearfix" role="commonListWrap">
                                        <li><h3><a href='#'>用户名:</a></h3><p>评论内容评论内容评评2</p></li>
                                        <li><h3><a href='#'>name:</a></h3><p>评论内容评论内容评论内容评论内容评论内容评3</p></li>
                                    </ul>
                                </nav>
                            </article>
                        </section>
                    </li>
                    <li>
                        <section class="clearfix">
                            <img src="http://static.wojilu.com/upload/face/2013/3/13/1_15_44_42_m.jpg" />
                            <article>
                                <h2><a href="#">姓名姓名</a></h2>
                                <div>
                                    主要的功能RequireJS，就是实现c#代码的第一行和第二行的功能：1)引入需要使用的命名空间(顺便加个别名也行)；2)将自己的代码放到命名空间中，避免全局污染。
                                    因为 javascript 天生的缺点，语言本身没有集成命名空间的概念，所以变量名、函数名很容易发生冲突。这些年，大家想尽了各种办法，给 js 添加命名空间的概念，其中最成熟的套路，就是 RequireJS 这种。
                                    我们可以看到，在c#中只要两行代码的事情，在 js 中，得用多么复杂的类库，比如 RequireJS 去解决sss
                                </div>
                                <footer>
                                    2小时前
                                    <input type="button" role="common_go" value="评论" />
                                    <div role="common_wrap">
                                        <input type="button" role="like" value="赞" />
                                        <input type="button" role="common" value="评论" />
                                    </div>
                                </footer>
                                <nav class="commonWrap">
                                    <ul class="clearfix" role="commonListWrap">
                                        <li><h3><a href='#'>用户名:</a></h3><p>评论内容评论内容评评2</p></li>
                                        <li><h3><a href='#'>name:</a></h3><p>评论内容评论内容评论内容评论内容评论内容评3</p></li>
                                    </ul>
                                </nav>
                            </article>
                        </section>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>
<script>
    $(function () {
        var user = { id: 1, name: "当前登录名" }
        $("#content_body").delegate("input[role='common_go']", "click", function () {
            //展开评论面板
            var wrap = $(this).parents("li").eq(0).find("div[role='common_wrap']");
            wrap.show("fast");
            return false;
        }).delegate("input[role='common']", "click", function () {
            //打开评论输入面板
            var wrap = $(this).parents("li").eq(0).find("nav.commonWrap");
            wrap.append("<div><input role='commonInput' type='text' /><input role='sure_common' type='button' value='确定'/></div>");
            wrap.find("input[role='commonInput']")[0].focus();
        }).delegate("input[role='like']", "click", function () {
            //赞
            var likeWrap = $(this).parents("li").eq(0).find("div.likeWrap");
            if (likeWrap.find("a").size() == 0) likeWrap.append("<i></i>");
            likeWrap.append("<a href='#'>" + user.name + "</a>");
        }).delegate("input[role='commonInput']", "blur", function () {
            //失掉输入框焦点
            if ($(this).val() === "") 
                if (confirm("您确定要放弃你编辑的内容吗")) { $(this).parent().remove(); } else { this.focus(); }
        }).delegate("input[role='sure_common']", "click", function () {
            //确认评论
            var content = $(this).parent().find(":text").val();
            if (content !== "") {
                $(this).parents("li").find("ul[role='commonListWrap']").append("<li><h3><a href='#'>" + user.name + "</a>:</h3><p>" + content + "</p></li>");
                $(this).parent().remove();
            }
        }).on("click", function () {
            $(this).find("div[role='common_wrap']").hide("fast");
        });
    });
</script>
